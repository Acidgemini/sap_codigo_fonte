<p-card header="{{ titulo }}">
  <p-header>
    <div class="ui-lg-2 ui-md-3 ui-sm-6 float-right">
      <button routerLink="novo" pButton icon="pi pi-check" iconPost="left" label="Novo"></button>
    </div>
  </p-header>
  <ng-container *ngIf="listaProjetos$ | async as listaProjetos; else loading">
    <p-table #dt [paginator]="true" [rows]="2" [rowsPerPageOptions]="[2, 4, 8, 10]" [response]="true"
    [columns]="colunas" [value]="listaProjetos" [filterDelay]="0">
    
<!-- >>>Ainda estou mexendo nisso aqui, tentando fazer o cabeçalho<<< -->

    <ng-template pTemplate="header">
    <h1>Teste início</h1>
      <p-fieldset [toggleable]="true">
        <tr>
          <th *ngFor="let coluna of columns">
            {{ coluna.header }}
          </th>
        </tr>
        <tr>
          <th>
            <input pInputText type="text" (input)="dt.filter($event.target.value, 'nome', 'contains')" placeholder="Buscar por Nome" class="p-column-filter">
            <p-multiSelect *ngSwitchCase="'cliente'" [options]="listaClientes" defaultLabel="Todos os clientes" (onChange)="dt.filter($event.value, coluna.field, 'in')"></p-multiSelect>
            <p-multiSelect [options]="listaLideres" placeholder="Bu*ngForscar por lideres" (onChange)="onChange($event)" styleClass="p-column-filter" optionLabel="nome">
              <ng-template let-option pTemplate="item">
                <div class="p-multiselect-cliente-option">          
                  <span class="p-ml-1">{{option.label}}</span>
                </div>
              </ng-template>
            </p-multiSelect>
            <!-- <p-calendar (onSelect)="onDateSelect($event)" (onClearClick)="dt.filter('', 'date', 'equals')" [showButtonBar]="true" styleClass="p-column-filter" placeholder="Registration Date" [readonlyInput]="true" dateFormat="yy-mm-dd"></p-calendar>
            <p-dropdown [options]="statuses" (onChange)="dt.filter($event.value, 'status', 'equals')" styleClass="p-column-filter" placeholder="Select a Status" [showClear]="true">
              <ng-template let-option pTemplate="item">
                <span [class]="'customer-badge status-' + option.value">{{option.label}}</span>
              </ng-template>
            </p-dropdown> -->
          </th>
          <th>
            <input pInputText type="text" (input)="onActivityChange($event)" placeholder="Minimum" class="p-column-filter" >
          </th>
        </tr>
      </p-fieldset>
      <h1>Teste fim</h1>
    </ng-template>

    <!-- >>>Ainda estou mexendo nisso aqui, tentando fazer o cabeçalho<<< -->


      <!-- <ng-template let-columns pTemplate="header">
        <tr>
          <th [class.action]="coluna.header == 'Ações'" *ngFor="let coluna of columns">
            {{ coluna.header }}
          </th>
        </tr>
      </ng-template> -->
      <ng-template pTemplate="body" let-projeto>
        <tr>
          <td>{{ projeto.nome }}</td>
          <td>{{ filtrarClientePorId(projeto.idCliente) }}</td>
          <td>{{ filtrarLiderPorId(projeto.idLider) }}</td>
          <td>{{ projeto.testador }}</td>
          <td>{{ projeto.revisor }}</td>
          <td>{{ projeto.gerente }}</td>
          <td class="action-buttons">
            <button [routerLink]="[projeto.id]" pButton icon="ui-icon-mode-edit"></button>
            <button pButton icon="pi pi-times" (click)="deletar(projeto.id)"></button>
          </td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage" let-columns>
        <tr>
          <td [attr.colspan]="columns.length">
            <div class="text-center">
              <h3>Nenhum Registro cadastrado!</h3>
            </div>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </ng-container>
  <ng-template #loading>
    <div class="ui-g-12 loading ">
      <div class="ui-g-2 ui-g-offset-5 ">
        <p><i class="pi pi-spin pi-spinner " style="font-size: 3em "></i></p>
        <p>Preprando Projetos...</p>
      </div>
    </div>
  </ng-template>
</p-card>
